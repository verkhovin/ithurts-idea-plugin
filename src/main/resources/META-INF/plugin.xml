<idea-plugin>
    <id>dev.ithurts.idea-integration</id>
    <name>It Hurts Integration</name>
    <vendor email="n.verkhovin@gmail.com" url="https://ithurts.dev">ItHurts</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationConfigurable parentId="tools" instance="dev.ithurts.plugin.ide.settings.ItHurtsSettingsConfigurable"
                                 id="dev.ithurts.plugin.ide.settings.ItHurtsSettingsConfigurable"
                                 displayName="It Hurts"/>
        <applicationService serviceImplementation="dev.ithurts.plugin.ide.service.CredentialsService"/>
        <projectService serviceImplementation="dev.ithurts.plugin.ide.service.ItHurtsProjectInitiator"/>
        <projectService serviceImplementation="dev.ithurts.plugin.ide.service.debt.DebtStorageService"/>
        <projectService serviceImplementation="dev.ithurts.plugin.ide.service.debt.DebtBrowserService"/>
        <projectService serviceImplementation="dev.ithurts.plugin.ide.service.debt.DebtEditorDisplayService"/>
        <projectService serviceImplementation="dev.ithurts.plugin.ide.service.debt.StagedDebtService"/>
        <postStartupActivity implementation="dev.ithurts.plugin.ide.service.ItHurtsProjectInitiator"/>
        <toolWindow id="It Hurts" anchor="right"
                    factoryClass="dev.ithurts.plugin.ide.toolwindow.DebtBrowserToolWindowFactory"
                    doNotActivateOnStart="true"/>
        <toolWindow id="Report Technical Debt [It Hurts]" anchor="left"
                    factoryClass="dev.ithurts.plugin.ide.toolwindow.ReportDebtToolWindowFactory"
                    doNotActivateOnStart="true"/>
    </extensions>

    <actions>
        <action id="ItHurtsActions.PostDebtAction" class="dev.ithurts.plugin.ide.action.PostDebtAction"
                text="Report the Debt"
                description="Report as a technical debt to ItHurts">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>
        <action id="ItHurtsActions.ShowFileDebtsAction" class="dev.ithurts.plugin.ide.action.ShowFileDebtsAction"
                text="Show File Technical Debts "
                description="Show technical debts reported to ItHurts for currently opened file">
            <keyboard-shortcut keymap="$default" first-keystroke="alt shift H"/>
        </action>
        <action id="ItHurtsActions.ShowRepoDebtsAction" class="dev.ithurts.plugin.ide.action.ShowRepoDebtsAction"
                text="Show Repository Technical Debts"
                description="Show technical debts reported to ItHurts for this repository">
        </action>
        <action id="ItHurtsActions.FetchDebtsAction" class="dev.ithurts.plugin.ide.action.FetchDebtsAction"
                text="Fetch Technical Debts from ItHurts"
                description="Fetch newly reported technical debts from ItHurts to IDE">
        </action>

    </actions>
</idea-plugin>